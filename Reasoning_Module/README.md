推理模块的主要功能实现在 engine_infer.py 里面
其中代码的最后部分展示了如何在别的代码里面导入 engine_infer.py 并进行模型推理

engine_infer.py 里面实现了以下功能：
- 使用训练的yolo模型进行推理，同时还支持多线程推理，以加快推理速度，使用过程中可以通过args参数来指定推理的参数配置。具体的参数说明都在代码中
- 对推理图像进行预处理，主要是HSV颜色空间的亮度增强和图像归一化处理
- 对推理结果的保存：在代码中，并没有将推理的结果图片返回到函数中，这是考虑到可能推理图片太多造成显存负载较大，所以在代码里直接将推理的结果图片和缺陷检测信息给保存到本地文件夹。这样的好处在于：1、减少了推理过程中的显存占用，2、推理结果图片和缺陷检测信息可以保存到本地文件夹，方便后续处理，比如用户界面上显示推理结果图片和信息、将推理结果保存到数据库等。（虽然这么做会增加推理的时间，但是由于使用了多线程推理，所以时间上完全足够！）

参考的推理命令：
python engine_infer.py --model=weights/best.pt --task=detect --img_dir=test_input/ --save_path=test_out/ --multi_thread=4

---

utils.py 提供了一些常用的工具函数，比如：
- 读取txt文件(txt文件存储的是缺陷检测结果的信息)，然后可以选择是否将该信息插入数据库
- 删除制定文件或文件夹下的所有文件，对于推理的结果，可以将其保存在一个tmp文件夹下，在用户查看完推理结果或将推理结果插入数据库之后，将这个tmp文件夹删除